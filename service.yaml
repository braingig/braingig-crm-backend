type: app
name: backend

build:
  context: ../../remote-team-backend
  dockerfile: Dockerfile

port: 4000

env:
  NODE_ENV: production
  PORT: 4000

  DATABASE_URL: postgresql://postgres:111111@postgres:5432/remote_team_db?schema=public

  JWT_SECRET: change-this
  JWT_REFRESH_SECRET: change-this-too
  JWT_EXPIRATION: 15m
  JWT_REFRESH_EXPIRATION: 7d

  RATE_LIMIT_TTL: 60
  RATE_LIMIT_MAX: 100

  CORS_ORIGIN: "*"

depends_on:
  - postgres
